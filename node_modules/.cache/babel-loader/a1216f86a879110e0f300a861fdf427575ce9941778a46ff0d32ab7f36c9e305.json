{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nimport { apiService } from './services/apiService';\nexport const useApi = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const callApi = useCallback(async (apiCall, ...args) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await apiCall(...args);\n      return response.data; // Return the data from axios response\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'An unexpected error occurred';\n      setError(errorMessage);\n      throw new Error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const clearError = () => setError(null);\n\n  // Specific API methods\n  const getActiveAnnouncements = () => callApi(apiService.getActiveAnnouncements);\n  const getActiveSchools = () => callApi(apiService.getActiveSchools);\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\n  const submitInquiry = data => callApi(apiService.submitInquiry, data);\n  const submitReview = data => callApi(apiService.submitReview, data);\n  return {\n    loading,\n    error,\n    clearError,\n    callApi,\n    getActiveAnnouncements,\n    getActiveSchools,\n    getApprovedReviews,\n    submitInquiry,\n    submitReview\n  };\n};\n\n// Enhanced useReviews hook\n_s(useApi, \"ynRR0sLNsUWpM6549VxBxX4Awok=\");\nexport const useReviews = () => {\n  _s2();\n  const {\n    loading,\n    error,\n    callApi,\n    clearError\n  } = useApi();\n  const getReviews = () => callApi(apiService.getReviews);\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\n  const submitReview = reviewData => callApi(apiService.submitReview, reviewData);\n  const updateReview = (id, reviewData) => callApi(apiService.updateReview, id, reviewData);\n  const deleteReview = id => callApi(apiService.deleteReview, id);\n  return {\n    loading,\n    error,\n    clearError,\n    getReviews,\n    getApprovedReviews,\n    submitReview,\n    updateReview,\n    deleteReview\n  };\n};\n\n// Enhanced useInquiries hook\n_s2(useReviews, \"1sWDB5Dk5dU+PJ1R+Yd3HzhIFC0=\", false, function () {\n  return [useApi];\n});\nexport const useInquiries = () => {\n  _s3();\n  const {\n    loading,\n    error,\n    callApi,\n    clearError\n  } = useApi();\n  const submitInquiry = inquiryData => callApi(apiService.submitInquiry, inquiryData);\n  const getInquiries = (page = 1, limit = 10) => callApi(apiService.getInquiries, page, limit);\n  const updateInquiryStatus = (id, status) => callApi(apiService.updateInquiryStatus, id, status);\n  return {\n    loading,\n    error,\n    clearError,\n    submitInquiry,\n    getInquiries,\n    updateInquiryStatus\n  };\n};\n_s3(useInquiries, \"1sWDB5Dk5dU+PJ1R+Yd3HzhIFC0=\", false, function () {\n  return [useApi];\n});","map":{"version":3,"names":["useState","useCallback","apiService","useApi","_s","loading","setLoading","error","setError","callApi","apiCall","args","response","data","err","_err$response","_err$response$data","errorMessage","message","Error","clearError","getActiveAnnouncements","getActiveSchools","getApprovedReviews","submitInquiry","submitReview","useReviews","_s2","getReviews","reviewData","updateReview","id","deleteReview","useInquiries","_s3","inquiryData","getInquiries","page","limit","updateInquiryStatus","status"],"sources":["C:/jbmmsi/client/src/hooks/useApi.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { apiService } from './services/apiService';\r\n\r\nexport const useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const callApi = useCallback(async (apiCall, ...args) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const response = await apiCall(...args);\r\n      return response.data; // Return the data from axios response\r\n    } catch (err) {\r\n      const errorMessage = err.response?.data?.message || err.message || 'An unexpected error occurred';\r\n      setError(errorMessage);\r\n      throw new Error(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const clearError = () => setError(null);\r\n\r\n  // Specific API methods\r\n  const getActiveAnnouncements = () => callApi(apiService.getActiveAnnouncements);\r\n  const getActiveSchools = () => callApi(apiService.getActiveSchools);\r\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\r\n  const submitInquiry = (data) => callApi(apiService.submitInquiry, data);\r\n  const submitReview = (data) => callApi(apiService.submitReview, data);\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    clearError,\r\n    callApi,\r\n    getActiveAnnouncements,\r\n    getActiveSchools,\r\n    getApprovedReviews,\r\n    submitInquiry,\r\n    submitReview\r\n  };\r\n};\r\n\r\n// Enhanced useReviews hook\r\nexport const useReviews = () => {\r\n  const { loading, error, callApi, clearError } = useApi();\r\n\r\n  const getReviews = () => callApi(apiService.getReviews);\r\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\r\n  const submitReview = (reviewData) => callApi(apiService.submitReview, reviewData);\r\n  const updateReview = (id, reviewData) => callApi(apiService.updateReview, id, reviewData);\r\n  const deleteReview = (id) => callApi(apiService.deleteReview, id);\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    clearError,\r\n    getReviews,\r\n    getApprovedReviews,\r\n    submitReview,\r\n    updateReview,\r\n    deleteReview\r\n  };\r\n};\r\n\r\n// Enhanced useInquiries hook\r\nexport const useInquiries = () => {\r\n  const { loading, error, callApi, clearError } = useApi();\r\n\r\n  const submitInquiry = (inquiryData) => callApi(apiService.submitInquiry, inquiryData);\r\n  const getInquiries = (page = 1, limit = 10) => callApi(apiService.getInquiries, page, limit);\r\n  const updateInquiryStatus = (id, status) => callApi(apiService.updateInquiryStatus, id, status);\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    clearError,\r\n    submitInquiry,\r\n    getInquiries,\r\n    updateInquiryStatus\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}