{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nimport { apiService } from '../apiService';\nexport const useApi = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const callApi = useCallback(async (apiCall, ...args) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await apiCall(...args);\n      return result;\n    } catch (err) {\n      const errorMessage = err.message || 'An unexpected error occurred';\n      setError(errorMessage);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const clearError = () => setError(null);\n\n  // Specific API methods\n  const getActiveAnnouncements = () => callApi(apiService.getActiveAnnouncements);\n  const getActiveSchools = () => callApi(apiService.getActiveSchools);\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\n  const submitInquiry = data => callApi(apiService.submitInquiry, data);\n  const submitReview = data => callApi(apiService.submitReview, data);\n  return {\n    loading,\n    error,\n    clearError,\n    callApi,\n    getActiveAnnouncements,\n    getActiveSchools,\n    getApprovedReviews,\n    submitInquiry,\n    submitReview\n  };\n};\n\n// Specific hooks for different features\n_s(useApi, \"ynRR0sLNsUWpM6549VxBxX4Awok=\");\nexport const useReviews = () => {\n  _s2();\n  const {\n    loading,\n    error,\n    callApi,\n    clearError\n  } = useApi();\n  const getReviews = () => callApi(apiService.getReviews);\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\n  const submitReview = reviewData => callApi(apiService.submitReview, reviewData);\n  const updateReview = (id, reviewData) => callApi(apiService.updateReview, id, reviewData);\n  const deleteReview = id => callApi(apiService.deleteReview, id);\n  return {\n    loading,\n    error,\n    clearError,\n    getReviews,\n    getApprovedReviews,\n    submitReview,\n    updateReview,\n    deleteReview\n  };\n};\n_s2(useReviews, \"1sWDB5Dk5dU+PJ1R+Yd3HzhIFC0=\", false, function () {\n  return [useApi];\n});","map":{"version":3,"names":["useState","useCallback","apiService","useApi","_s","loading","setLoading","error","setError","callApi","apiCall","args","result","err","errorMessage","message","clearError","getActiveAnnouncements","getActiveSchools","getApprovedReviews","submitInquiry","data","submitReview","useReviews","_s2","getReviews","reviewData","updateReview","id","deleteReview"],"sources":["C:/jbmmsi/client/src/hooks/useApi.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { apiService } from '../apiService';\r\n\r\nexport const useApi = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const callApi = useCallback(async (apiCall, ...args) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const result = await apiCall(...args);\r\n      return result;\r\n    } catch (err) {\r\n      const errorMessage = err.message || 'An unexpected error occurred';\r\n      setError(errorMessage);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const clearError = () => setError(null);\r\n\r\n  // Specific API methods\r\n  const getActiveAnnouncements = () => callApi(apiService.getActiveAnnouncements);\r\n  const getActiveSchools = () => callApi(apiService.getActiveSchools);\r\n  const getApprovedReviews = () => callApi(apiService.getApprovedReviews);\r\n  const submitInquiry = (data) => callApi(apiService.submitInquiry, data);\r\n  const submitReview = (data) => callApi(apiService.submitReview, data);\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    clearError,\r\n    callApi,\r\n    getActiveAnnouncements,\r\n    getActiveSchools,\r\n    getApprovedReviews,\r\n    submitInquiry,\r\n    submitReview\r\n  };\r\n};\r\n\r\n\r\n// Specific hooks for different features\r\nexport const useReviews = () => {\r\n  const { loading, error, callApi, clearError } = useApi();\r\n\r\n  const getReviews = () => \r\n    callApi(apiService.getReviews);\r\n\r\n  const getApprovedReviews = () => \r\n    callApi(apiService.getApprovedReviews);\r\n\r\n  const submitReview = (reviewData) => \r\n    callApi(apiService.submitReview, reviewData);\r\n\r\n  const updateReview = (id, reviewData) => \r\n    callApi(apiService.updateReview, id, reviewData);\r\n\r\n  const deleteReview = (id) => \r\n    callApi(apiService.deleteReview, id);\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    clearError,\r\n    getReviews,\r\n    getApprovedReviews,\r\n    submitReview,\r\n    updateReview,\r\n    deleteReview\r\n  };\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,SAASC,UAAU,QAAQ,eAAe;AAE1C,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMS,OAAO,GAAGR,WAAW,CAAC,OAAOS,OAAO,EAAE,GAAGC,IAAI,KAAK;IACtDL,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMI,MAAM,GAAG,MAAMF,OAAO,CAAC,GAAGC,IAAI,CAAC;MACrC,OAAOC,MAAM;IACf,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMC,YAAY,GAAGD,GAAG,CAACE,OAAO,IAAI,8BAA8B;MAClEP,QAAQ,CAACM,YAAY,CAAC;MACtB,MAAMD,GAAG;IACX,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMU,UAAU,GAAGA,CAAA,KAAMR,QAAQ,CAAC,IAAI,CAAC;;EAEvC;EACA,MAAMS,sBAAsB,GAAGA,CAAA,KAAMR,OAAO,CAACP,UAAU,CAACe,sBAAsB,CAAC;EAC/E,MAAMC,gBAAgB,GAAGA,CAAA,KAAMT,OAAO,CAACP,UAAU,CAACgB,gBAAgB,CAAC;EACnE,MAAMC,kBAAkB,GAAGA,CAAA,KAAMV,OAAO,CAACP,UAAU,CAACiB,kBAAkB,CAAC;EACvE,MAAMC,aAAa,GAAIC,IAAI,IAAKZ,OAAO,CAACP,UAAU,CAACkB,aAAa,EAAEC,IAAI,CAAC;EACvE,MAAMC,YAAY,GAAID,IAAI,IAAKZ,OAAO,CAACP,UAAU,CAACoB,YAAY,EAAED,IAAI,CAAC;EAErE,OAAO;IACLhB,OAAO;IACPE,KAAK;IACLS,UAAU;IACVP,OAAO;IACPQ,sBAAsB;IACtBC,gBAAgB;IAChBC,kBAAkB;IAClBC,aAAa;IACbE;EACF,CAAC;AACH,CAAC;;AAGD;AAAAlB,EAAA,CA3CaD,MAAM;AA4CnB,OAAO,MAAMoB,UAAU,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC9B,MAAM;IAAEnB,OAAO;IAAEE,KAAK;IAAEE,OAAO;IAAEO;EAAW,CAAC,GAAGb,MAAM,CAAC,CAAC;EAExD,MAAMsB,UAAU,GAAGA,CAAA,KACjBhB,OAAO,CAACP,UAAU,CAACuB,UAAU,CAAC;EAEhC,MAAMN,kBAAkB,GAAGA,CAAA,KACzBV,OAAO,CAACP,UAAU,CAACiB,kBAAkB,CAAC;EAExC,MAAMG,YAAY,GAAII,UAAU,IAC9BjB,OAAO,CAACP,UAAU,CAACoB,YAAY,EAAEI,UAAU,CAAC;EAE9C,MAAMC,YAAY,GAAGA,CAACC,EAAE,EAAEF,UAAU,KAClCjB,OAAO,CAACP,UAAU,CAACyB,YAAY,EAAEC,EAAE,EAAEF,UAAU,CAAC;EAElD,MAAMG,YAAY,GAAID,EAAE,IACtBnB,OAAO,CAACP,UAAU,CAAC2B,YAAY,EAAED,EAAE,CAAC;EAEtC,OAAO;IACLvB,OAAO;IACPE,KAAK;IACLS,UAAU;IACVS,UAAU;IACVN,kBAAkB;IAClBG,YAAY;IACZK,YAAY;IACZE;EACF,CAAC;AACH,CAAC;AAACL,GAAA,CA5BWD,UAAU;EAAA,QAC2BpB,MAAM;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}