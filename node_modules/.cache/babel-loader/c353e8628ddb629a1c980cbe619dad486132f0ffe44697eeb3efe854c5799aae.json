{"ast":null,"code":"import{useEffect,useState}from'react';import{socketService}from'../services/socketService';export const useSocket=()=>{const[isConnected,setIsConnected]=useState(false);useEffect(()=>{// Connect to socket when hook is used\nconst socket=socketService.connect();const handleConnect=()=>{setIsConnected(true);console.log('✅ Socket connected in hook');};const handleDisconnect=()=>{setIsConnected(false);console.log('❌ Socket disconnected in hook');};// Listen for connection events\nsocket.on('connect',handleConnect);socket.on('disconnect',handleDisconnect);// Set initial connection state\nsetIsConnected(socketService.getConnectionStatus());// Cleanup\nreturn()=>{socket.off('connect',handleConnect);socket.off('disconnect',handleDisconnect);};},[]);return{isConnected,socketService};};","map":{"version":3,"names":["useEffect","useState","socketService","useSocket","isConnected","setIsConnected","socket","connect","handleConnect","console","log","handleDisconnect","on","getConnectionStatus","off"],"sources":["C:/jbmmsi/client/src/hooks/useSocket.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { socketService } from '../services/socketService';\r\n\r\nexport const useSocket = () => {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Connect to socket when hook is used\r\n    const socket = socketService.connect();\r\n\r\n    const handleConnect = () => {\r\n      setIsConnected(true);\r\n      console.log('✅ Socket connected in hook');\r\n    };\r\n\r\n    const handleDisconnect = () => {\r\n      setIsConnected(false);\r\n      console.log('❌ Socket disconnected in hook');\r\n    };\r\n\r\n    // Listen for connection events\r\n    socket.on('connect', handleConnect);\r\n    socket.on('disconnect', handleDisconnect);\r\n\r\n    // Set initial connection state\r\n    setIsConnected(socketService.getConnectionStatus());\r\n\r\n    // Cleanup\r\n    return () => {\r\n      socket.off('connect', handleConnect);\r\n      socket.off('disconnect', handleDisconnect);\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isConnected,\r\n    socketService\r\n  };\r\n};"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,aAAa,KAAQ,2BAA2B,CAEzD,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGJ,QAAQ,CAAC,KAAK,CAAC,CAErDD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAM,MAAM,CAAGJ,aAAa,CAACK,OAAO,CAAC,CAAC,CAEtC,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1BH,cAAc,CAAC,IAAI,CAAC,CACpBI,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC,CAC3C,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7BN,cAAc,CAAC,KAAK,CAAC,CACrBI,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC9C,CAAC,CAED;AACAJ,MAAM,CAACM,EAAE,CAAC,SAAS,CAAEJ,aAAa,CAAC,CACnCF,MAAM,CAACM,EAAE,CAAC,YAAY,CAAED,gBAAgB,CAAC,CAEzC;AACAN,cAAc,CAACH,aAAa,CAACW,mBAAmB,CAAC,CAAC,CAAC,CAEnD;AACA,MAAO,IAAM,CACXP,MAAM,CAACQ,GAAG,CAAC,SAAS,CAAEN,aAAa,CAAC,CACpCF,MAAM,CAACQ,GAAG,CAAC,YAAY,CAAEH,gBAAgB,CAAC,CAC5C,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLP,WAAW,CACXF,aACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}